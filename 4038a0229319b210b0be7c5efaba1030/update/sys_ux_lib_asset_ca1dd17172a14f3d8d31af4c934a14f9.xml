<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ux_lib_asset">
    <sys_ux_lib_asset action="INSERT_OR_UPDATE">
        <bundled_asset>false</bundled_asset>
        <category>component</category>
        <checksum>863432906514dea66214eab8898e176e</checksum>
        <config_option/>
        <content>/*__ESM_BODY_START__*/import{r as reactExports,S as SiteRolloutService,j as jsxRuntimeExports,c as client,R as React}from"./SiteRolloutService-U1Q6xVS6.jsdbx";client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(function(){let svc=reactExports.useMemo(()=&gt;new SiteRolloutService,[]),[tasks,setTasks]=reactExports.useState([]),[loading,setLoading]=reactExports.useState(!0),[error,setError]=reactExports.useState(null),[selectedTask,setSelectedTask]=reactExports.useState(null),[updateNotes,setUpdateNotes]=reactExports.useState(""),[updateStatus,setUpdateStatus]=reactExports.useState("");reactExports.useEffect(()=&gt;{loadMyTasks()},[svc]);let loadMyTasks=async()=&gt;{try{setLoading(!0);let myTasks=await svc.getMyTasks();setTasks(myTasks)}catch(err){setError(err.message)}finally{setLoading(!1)}},updateTask=async(taskId,updates)=&gt;{try{return await svc.updateTask(taskId,updates),await loadMyTasks(),!0}catch(err){return setError(err.message),!1}},handleStatusUpdate=async task=&gt;{let taskId="object"==typeof task.sys_id?task.sys_id.value:task.sys_id,updates={};if(updateStatus&amp;&amp;(updates.status=updateStatus),updateNotes){let existingNotes="object"==typeof task.notes?task.notes.display_value||"":task.notes||"",timestamp=new Date().toLocaleString();updates.notes=existingNotes+(existingNotes?"\n\n":"")+`[${timestamp}] ${updateNotes}`}await updateTask(taskId,updates)&amp;&amp;(setSelectedTask(null),setUpdateNotes(""),setUpdateStatus(""))},getPriorityClass=task=&gt;{let status="object"==typeof task.status?task.status.value:task.status,dueDate="object"==typeof task.due_date?task.due_date.display_value:task.due_date;return"waiting_vendor"===status||dueDate&amp;&amp;new Date(dueDate)&lt;new Date&amp;&amp;"completed"!==status?"high":"in_progress"===status?"medium":"low"},isOverdue=dueDate=&gt;!!dueDate&amp;&amp;new Date("object"==typeof dueDate?dueDate.display_value:dueDate)&lt;new Date;return loading?jsxRuntimeExports.jsx("div",{className:"loading",children:"Loading your assigned tasks..."}):error?jsxRuntimeExports.jsxs("div",{className:"error",children:["Error loading tasks: ",error]}):jsxRuntimeExports.jsxs("div",{className:"field-tech-app",children:[jsxRuntimeExports.jsxs("header",{className:"app-header",children:[jsxRuntimeExports.jsx("h1",{children:"Field Technician Tasks"}),jsxRuntimeExports.jsx("p",{children:"Your assigned rollout tasks with photo upload and progress tracking"}),jsxRuntimeExports.jsxs("div",{className:"task-summary",children:[jsxRuntimeExports.jsxs("span",{className:"summary-item",children:["Total Tasks: ",jsxRuntimeExports.jsx("strong",{children:tasks.length})]}),jsxRuntimeExports.jsxs("span",{className:"summary-item",children:["In Progress: ",jsxRuntimeExports.jsx("strong",{children:tasks.filter(t=&gt;"in_progress"===("object"==typeof t.status?t.status.value:t.status)).length})]}),jsxRuntimeExports.jsxs("span",{className:"summary-item",children:["Overdue: ",jsxRuntimeExports.jsx("strong",{children:tasks.filter(t=&gt;isOverdue(t.due_date)).length})]})]})]}),jsxRuntimeExports.jsx("main",{className:"tasks-container",children:0===tasks.length?jsxRuntimeExports.jsxs("div",{className:"no-tasks",children:[jsxRuntimeExports.jsx("h3",{children:"No Tasks Assigned"}),jsxRuntimeExports.jsx("p",{children:"You currently have no rollout tasks assigned to you."})]}):jsxRuntimeExports.jsx("div",{className:"tasks-grid",children:tasks.map(task=&gt;{let taskName="object"==typeof task.task_name?task.task_name.display_value:task.task_name,taskType="object"==typeof task.task_type?task.task_type.display_value:task.task_type,status="object"==typeof task.status?task.status.value:task.status,dueDate="object"==typeof task.due_date?task.due_date.display_value:task.due_date,siteName="object"==typeof task.site?task.site.display_value:task.site,vendor="object"==typeof task.assigned_vendor?task.assigned_vendor.display_value:task.assigned_vendor,taskId="object"==typeof task.sys_id?task.sys_id.value:task.sys_id,priority=getPriorityClass(task);return jsxRuntimeExports.jsxs("div",{className:`task-card priority-${priority}`,children:[jsxRuntimeExports.jsxs("div",{className:"task-header",children:[jsxRuntimeExports.jsx("h3",{children:taskName}),jsxRuntimeExports.jsx("span",{className:`status-badge status-${status}`,children:status?.replace("_"," ")})]}),jsxRuntimeExports.jsxs("div",{className:"task-info",children:[jsxRuntimeExports.jsxs("div",{className:"info-row",children:[jsxRuntimeExports.jsx("span",{className:"label",children:"Type:"}),jsxRuntimeExports.jsx("span",{children:taskType?.replace("_"," ")})]}),jsxRuntimeExports.jsxs("div",{className:"info-row",children:[jsxRuntimeExports.jsx("span",{className:"label",children:"Site:"}),jsxRuntimeExports.jsx("span",{children:siteName})]}),vendor&amp;&amp;jsxRuntimeExports.jsxs("div",{className:"info-row",children:[jsxRuntimeExports.jsx("span",{className:"label",children:"Vendor:"}),jsxRuntimeExports.jsx("span",{children:vendor})]}),dueDate&amp;&amp;jsxRuntimeExports.jsxs("div",{className:`info-row ${isOverdue(dueDate)?"overdue":""}`,children:[jsxRuntimeExports.jsx("span",{className:"label",children:"Due:"}),jsxRuntimeExports.jsx("span",{children:new Date(dueDate).toLocaleDateString()})]})]}),jsxRuntimeExports.jsx("div",{className:"task-actions",children:jsxRuntimeExports.jsx("button",{className:"update-btn",onClick:()=&gt;{setSelectedTask(task),setUpdateStatus(status)},children:"Update Task"})})]},taskId)})})}),selectedTask&amp;&amp;jsxRuntimeExports.jsx("div",{className:"modal-overlay",children:jsxRuntimeExports.jsxs("div",{className:"modal",children:[jsxRuntimeExports.jsxs("div",{className:"modal-header",children:[jsxRuntimeExports.jsx("h3",{children:"Update Task"}),jsxRuntimeExports.jsx("button",{className:"close-btn",onClick:()=&gt;{setSelectedTask(null),setUpdateNotes(""),setUpdateStatus("")},children:"\xd7"})]}),jsxRuntimeExports.jsxs("div",{className:"modal-body",children:[jsxRuntimeExports.jsx("h4",{children:"object"==typeof selectedTask.task_name?selectedTask.task_name.display_value:selectedTask.task_name}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Status:"}),jsxRuntimeExports.jsxs("select",{value:updateStatus,onChange:e=&gt;setUpdateStatus(e.target.value),className:"form-control",children:[jsxRuntimeExports.jsxs("option",{value:"object"==typeof selectedTask.status?selectedTask.status.value:selectedTask.status,children:[("object"==typeof selectedTask.status?selectedTask.status.display_value:selectedTask.status)?.replace("_"," ")," (Current)"]}),(({not_started:["in_progress","on_hold"],in_progress:["completed","on_hold","waiting_vendor"],on_hold:["in_progress","not_started"],waiting_vendor:["in_progress"],waiting_approval:["in_progress","completed"],completed:[],cancelled:[],failed:["not_started","in_progress"]})["object"==typeof selectedTask.status?selectedTask.status.value:selectedTask.status]||["in_progress","completed","on_hold"]).map(status=&gt;jsxRuntimeExports.jsx("option",{value:status,children:status.replace("_"," ")},status))]})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Notes/Updates:"}),jsxRuntimeExports.jsx("textarea",{value:updateNotes,onChange:e=&gt;setUpdateNotes(e.target.value),className:"form-control",rows:"4",placeholder:"Add progress notes, issues, or completion details..."})]}),jsxRuntimeExports.jsxs("div",{className:"form-group",children:[jsxRuntimeExports.jsx("label",{children:"Upload Photos:"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",multiple:!0,className:"form-control",onChange:e=&gt;{e.target.files.length&gt;0&amp;&amp;alert(`Selected ${e.target.files.length} photo(s). In production, these would be uploaded to ServiceNow.`)}}),jsxRuntimeExports.jsx("small",{className:"help-text",children:"Upload photos of completed work, issues, or site conditions"})]})]}),jsxRuntimeExports.jsxs("div",{className:"modal-footer",children:[jsxRuntimeExports.jsx("button",{className:"btn-secondary",onClick:()=&gt;{setSelectedTask(null),setUpdateNotes(""),setUpdateStatus("")},children:"Cancel"}),jsxRuntimeExports.jsx("button",{className:"btn-primary",onClick:()=&gt;handleStatusUpdate(selectedTask),disabled:!updateStatus&amp;&amp;!updateNotes,children:"Update Task"})]})]})}),jsxRuntimeExports.jsx("style",{jsx:!0,children:`
        .field-tech-app {
          font-family: Arial, sans-serif;
          padding: 20px;
          background-color: #f5f5f5;
          min-height: 100vh;
        }

        .app-header {
          background-color: #17a2b8;
          color: white;
          padding: 20px;
          border-radius: 8px;
          margin-bottom: 20px;
        }

        .app-header h1 {
          margin: 0;
          font-size: 24px;
        }

        .app-header p {
          margin: 5px 0 15px 0;
          opacity: 0.9;
        }

        .task-summary {
          display: flex;
          gap: 20px;
          flex-wrap: wrap;
        }

        .summary-item {
          background-color: rgba(255, 255, 255, 0.1);
          padding: 8px 12px;
          border-radius: 4px;
          font-size: 14px;
        }

        .tasks-container {
          background-color: white;
          border-radius: 8px;
          padding: 20px;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .no-tasks {
          text-align: center;
          padding: 50px;
          color: #666;
        }

        .tasks-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
          gap: 20px;
        }

        .task-card {
          background-color: #f8f9fa;
          border: 1px solid #dee2e6;
          border-radius: 8px;
          padding: 20px;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .task-card.priority-high {
          border-left: 4px solid #dc3545;
        }

        .task-card.priority-medium {
          border-left: 4px solid #ffc107;
        }

        .task-card.priority-low {
          border-left: 4px solid #28a745;
        }

        .task-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 15px;
        }

        .task-header h3 {
          margin: 0;
          font-size: 16px;
          font-weight: 600;
        }

        .task-info {
          margin-bottom: 15px;
        }

        .info-row {
          display: flex;
          justify-content: space-between;
          margin-bottom: 5px;
          font-size: 14px;
        }

        .info-row.overdue {
          color: #dc3545;
          font-weight: 500;
        }

        .label {
          font-weight: 500;
          color: #666;
        }

        .task-actions {
          display: flex;
          gap: 10px;
        }

        .update-btn {
          background-color: #17a2b8;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 4px;
          cursor: pointer;
          font-size: 14px;
        }

        .update-btn:hover {
          background-color: #138496;
        }

        /* Modal Styles */
        .modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: rgba(0, 0, 0, 0.5);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1000;
        }

        .modal {
          background-color: white;
          border-radius: 8px;
          width: 90%;
          max-width: 500px;
          max-height: 90vh;
          overflow-y: auto;
        }

        .modal-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 20px 20px 10px 20px;
          border-bottom: 1px solid #dee2e6;
        }

        .modal-header h3 {
          margin: 0;
        }

        .close-btn {
          background: none;
          border: none;
          font-size: 24px;
          cursor: pointer;
          color: #666;
        }

        .modal-body {
          padding: 20px;
        }

        .modal-body h4 {
          margin: 0 0 20px 0;
          color: #333;
        }

        .form-group {
          margin-bottom: 20px;
        }

        .form-group label {
          display: block;
          margin-bottom: 5px;
          font-weight: 500;
        }

        .form-control {
          width: 100%;
          padding: 8px 12px;
          border: 1px solid #ced4da;
          border-radius: 4px;
          font-size: 14px;
        }

        .help-text {
          color: #666;
          font-size: 12px;
          margin-top: 5px;
          display: block;
        }

        .modal-footer {
          display: flex;
          justify-content: flex-end;
          gap: 10px;
          padding: 10px 20px 20px 20px;
          border-top: 1px solid #dee2e6;
        }

        .btn-primary,
        .btn-secondary {
          padding: 8px 16px;
          border-radius: 4px;
          cursor: pointer;
          font-size: 14px;
        }

        .btn-primary {
          background-color: #007bff;
          color: white;
          border: none;
        }

        .btn-primary:disabled {
          background-color: #6c757d;
          cursor: not-allowed;
        }

        .btn-secondary {
          background-color: #6c757d;
          color: white;
          border: none;
        }

        .loading,
        .error {
          text-align: center;
          padding: 50px;
          font-size: 18px;
        }

        .error {
          background-color: #f8d7da;
          color: #721c24;
          border-radius: 8px;
          margin: 20px;
          border: 1px solid #f5c6cb;
        }

        @media (max-width: 768px) {
          .field-tech-app {
            padding: 10px;
          }
          
          .tasks-grid {
            grid-template-columns: 1fr;
          }
          
          .task-summary {
            flex-direction: column;
            gap: 10px;
          }
        }
      `})]})},{})}));
//# sourceMappingURL=field-tech-main.js.map.jsdbx
</content>
        <content_meta/>
        <dependencies/>
        <es_module>true</es_module>
        <is_attachment>false</is_attachment>
        <mime_type>application/javascript</mime_type>
        <name>x_1873093_site_rol/field-tech-main</name>
        <sys_class_name>sys_ux_lib_asset</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-11-21 18:08:01</sys_created_on>
        <sys_id>ca1dd17172a14f3d8d31af4c934a14f9</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>x_1873093_site_rol/field-tech-main</sys_name>
        <sys_package display_value="Site Rollout" source="x_1873093_site_rol">4038a0229319b210b0be7c5efaba1030</sys_package>
        <sys_policy/>
        <sys_scope display_value="Site Rollout">4038a0229319b210b0be7c5efaba1030</sys_scope>
        <sys_update_name>sys_ux_lib_asset_ca1dd17172a14f3d8d31af4c934a14f9</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-11-21 18:08:01</sys_updated_on>
    </sys_ux_lib_asset>
</record_update>
